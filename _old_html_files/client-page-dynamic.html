<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave a Review</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            overflow-x: hidden;
            background: #f5f5f5;
        }

        /* Business-Specific Background with Blur */
        .business-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .bg-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: blur(15px) brightness(0.7);
            transform: scale(1.1);
        }

        .bg-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.85) 0%, rgba(118, 75, 162, 0.85) 100%);
        }

        /* Sidebar Gallery */
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 30px 20px;
            overflow-y: auto;
            box-shadow: 4px 0 30px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        .sidebar.left {
            left: 0;
        }

        .sidebar.right {
            right: 0;
        }

        .sidebar-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }

        .sidebar-logo {
            font-size: 72px;
            margin-bottom: 15px;
        }

        .sidebar-title {
            font-size: 20px;
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }

        .sidebar-subtitle {
            font-size: 13px;
            color: #888;
        }

        .gallery-section {
            margin-bottom: 30px;
        }

        .gallery-label {
            font-size: 12px;
            font-weight: 700;
            color: #667eea;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .gallery-item {
            aspect-ratio: 1;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        .stats-mini {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9ff 0%, #fff 100%);
            border-radius: 12px;
            margin-top: 20px;
        }

        .stat-mini {
            text-align: center;
        }

        .stat-mini-number {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-mini-label {
            font-size: 11px;
            color: #888;
            margin-top: 5px;
        }

        /* Main Review Container */
        .review-container {
            position: relative;
            margin: 0 auto;
            max-width: 700px;
            padding: 40px 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
        }

        @media (min-width: 1400px) {
            .review-container {
                margin-left: 280px;
                margin-right: 280px;
            }
        }

        .review-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.2);
            width: 100%;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .business-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .business-logo-main {
            font-size: 96px;
            margin-bottom: 20px;
            animation: bounce 1s ease-in-out;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .business-name {
            font-size: 36px;
            font-weight: 800;
            color: #333;
            margin-bottom: 10px;
        }

        .business-tagline {
            font-size: 18px;
            color: #667eea;
            font-weight: 600;
        }

        /* Form Sections */
        .form-section {
            margin-bottom: 35px;
        }

        .form-label {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            margin-bottom: 15px;
            display: block;
        }

        .required {
            color: #f44336;
        }

        /* Star Rating */
        .star-rating-container {
            background: linear-gradient(135deg, #f8f9ff 0%, #fff 100%);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 10px;
        }

        .star-rating {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .star {
            font-size: 56px;
            cursor: pointer;
            transition: all 0.3s;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        }

        .star.inactive {
            color: #ddd;
        }

        .star.active {
            color: #ffc107;
            animation: starPulse 0.3s ease-out;
        }

        @keyframes starPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        .star:hover {
            transform: scale(1.15);
        }

        .rating-text {
            font-size: 20px;
            font-weight: 700;
            margin-top: 15px;
            min-height: 30px;
        }

        .rating-excellent {
            color: #4CAF50;
        }

        .rating-good {
            color: #8BC34A;
        }

        .rating-neutral {
            color: #ff9800;
        }

        .rating-poor {
            color: #f44336;
        }

        /* Select Inputs */
        select,
        textarea {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            font-size: 16px;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
            background: white;
        }

        select:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        /* Chips */
        .chip-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .chip {
            padding: 12px 24px;
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 15px;
        }

        .chip:hover {
            background: #e8e8e8;
            transform: translateY(-2px);
        }

        .chip.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        /* Submit Button */
        .submit-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
        }

        .submit-btn:active {
            transform: translateY(-1px);
        }

        /* Responsive */
        @media (max-width: 1400px) {
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .review-card {
                padding: 30px 25px;
            }

            .business-logo-main {
                font-size: 72px;
            }

            .business-name {
                font-size: 28px;
            }

            .star {
                font-size: 48px;
            }
        }

        /* Scrollbar */
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 3px;
        }
    </style>
</head>

<body>
    <!-- Background -->
    <div class="business-background">
        <div class="bg-image" id="bgImage"></div>
        <div class="bg-overlay"></div>
    </div>

    <!-- Left Sidebar -->
    <div class="sidebar left" id="leftSidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo" id="sidebarLogo">üíá</div>
            <div class="sidebar-title" id="sidebarTitle">Raj's Salon</div>
            <div class="sidebar-subtitle">Premium Services</div>
        </div>

        <div class="gallery-section">
            <div class="gallery-label">Our Work</div>
            <div class="gallery-grid" id="galleryLeft"></div>
        </div>

        <div class="stats-mini">
            <div class="stat-mini">
                <div class="stat-mini-number">4.9</div>
                <div class="stat-mini-label">Rating</div>
            </div>
            <div class="stat-mini">
                <div class="stat-mini-number">500+</div>
                <div class="stat-mini-label">Reviews</div>
            </div>
        </div>
    </div>

    <!-- Right Sidebar -->
    <div class="sidebar right" id="rightSidebar">
        <div class="gallery-section">
            <div class="gallery-label">Happy Customers</div>
            <div class="gallery-grid" id="galleryRight"></div>
        </div>

        <div class="gallery-section">
            <div class="gallery-label">Our Team</div>
            <div class="gallery-grid" id="galleryTeam"></div>
        </div>
    </div>

    <!-- Main Review Form -->
    <div class="review-container">
        <div class="review-card">
            <div class="business-header">
                <div class="business-logo-main" id="businessLogo">üíá</div>
                <h1 class="business-name" id="businessName">Raj's Salon</h1>
                <p class="business-tagline">We'd love to hear about your experience!</p>
            </div>

            <form id="reviewForm">
                <!-- Star Rating -->
                <div class="form-section">
                    <label class="form-label">How was your overall experience? <span class="required">*</span></label>
                    <div class="star-rating-container">
                        <div class="star-rating" id="starRating">
                            <span class="star inactive" data-rating="1">‚òÜ</span>
                            <span class="star inactive" data-rating="2">‚òÜ</span>
                            <span class="star inactive" data-rating="3">‚òÜ</span>
                            <span class="star inactive" data-rating="4">‚òÜ</span>
                            <span class="star inactive" data-rating="5">‚òÜ</span>
                        </div>
                        <div class="rating-text" id="ratingText">Tap a star to rate</div>
                    </div>
                </div>

                <!-- Service Selection -->
                <div class="form-section">
                    <label class="form-label">What service did you get? <span class="required">*</span></label>
                    <select id="serviceSelect" required>
                        <option value="">Select a service</option>
                    </select>
                </div>

                <!-- Staff Selection -->
                <div class="form-section">
                    <label class="form-label">Who served you? <span class="required">*</span></label>
                    <select id="staffSelect" required>
                        <option value="">Select staff member</option>
                    </select>
                </div>

                <!-- Quality Attributes -->
                <div class="form-section">
                    <label class="form-label">How would you describe the quality?</label>
                    <div class="chip-container" id="qualityChips"></div>
                </div>

                <!-- Feelings -->
                <div class="form-section">
                    <label class="form-label">How did it make you feel?</label>
                    <div class="chip-container" id="feelingChips"></div>
                </div>

                <!-- Additional Comments -->
                <div class="form-section">
                    <label class="form-label">Anything else you'd like to add? (Optional)</label>
                    <textarea id="additionalComments" rows="4"
                        placeholder="Share any specific details you'd like to mention..."></textarea>
                </div>

                <button type="submit" class="submit-btn">‚ú® Generate My Review</button>
            </form>
        </div>
    </div>

    <script>
        // Business Database with imagery
        const businesses = {
            'raj-salon': {
                name: "Raj's Salon",
                logo: "üíá",
                tagline: "Where Style Meets Perfection",
                address: "123 MG Road, Bangalore",
                services: ['Haircut', 'Hair Styling', 'Hair Coloring', 'Facial', 'Beard Trim'],
                staff: ['Mohan', 'Priya', 'Rahul', 'Sarah'],
                qualities: ['Beautiful', 'Professional', 'Amazing', 'Perfect', 'Excellent', 'Stylish'],
                feelings: ['Like a Rockstar', 'Confident', 'Refreshed', 'Happy', 'Relaxed', 'Gorgeous'],
                galleryEmojis: ['üíá‚Äç‚ôÄÔ∏è', 'üíÜ‚Äç‚ôÇÔ∏è', '‚úÇÔ∏è', 'üíÖ', 'ü™í', 'üíà', 'üé®', '‚ú®'],
                bgGradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
            },
            'spa-paradise': {
                name: "Spa Paradise",
                logo: "üßñ",
                tagline: "Relax, Rejuvenate, Refresh",
                address: "45 Koramangala, Bangalore",
                services: ['Full Body Massage', 'Facial', 'Manicure', 'Pedicure', 'Aromatherapy'],
                staff: ['Anjali', 'Deepak', 'Kavita', 'Ravi'],
                qualities: ['Relaxing', 'Professional', 'Therapeutic', 'Luxurious', 'Rejuvenating'],
                feelings: ['Relaxed', 'Pampered', 'Refreshed', 'Peaceful', 'Energized'],
                galleryEmojis: ['üßñ‚Äç‚ôÄÔ∏è', 'üíÜ', 'üïØÔ∏è', 'üå∫', 'üß¥', 'üíê', 'üå∏', '‚ú®'],
                bgGradient: 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)'
            },
            'pizza-corner': {
                name: "Pizza Corner",
                logo: "üçï",
                tagline: "Authentic Italian Flavors",
                address: "78 Indiranagar, Bangalore",
                services: ['Margherita Pizza', 'Pepperoni Pizza', 'Veggie Pizza', 'Pasta', 'Garlic Bread'],
                staff: ['Tony', 'Maria', 'Giuseppe', 'Sofia'],
                qualities: ['Delicious', 'Fresh', 'Hot', 'Tasty', 'Perfect', 'Authentic'],
                feelings: ['Satisfied', 'Happy', 'Full', 'Delighted', 'Craving More'],
                galleryEmojis: ['üçï', 'üçù', 'üßÑ', 'üßÄ', 'üçÖ', 'üåø', 'üë®‚Äçüç≥', 'üî•'],
                bgGradient: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'
            },
            'fitness-hub': {
                name: "Fitness Hub",
                logo: "üí™",
                tagline: "Transform Your Body & Mind",
                address: "90 HSR Layout, Bangalore",
                services: ['Personal Training', 'Yoga Class', 'Zumba', 'CrossFit', 'Nutrition Consultation'],
                staff: ['Coach Mike', 'Trainer Priya', 'Instructor Raj', 'Nutritionist Sneha'],
                qualities: ['Motivating', 'Professional', 'Challenging', 'Effective', 'Supportive'],
                feelings: ['Energized', 'Motivated', 'Strong', 'Accomplished', 'Healthy'],
                galleryEmojis: ['üí™', 'üèãÔ∏è', 'üßò', 'ü§∏', 'üèÉ', 'ü•ó', '‚ö°', 'üî•'],
                bgGradient: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)'
            },
            'beauty-lounge': {
                name: "Beauty Lounge",
                logo: "üíÑ",
                tagline: "Unleash Your Inner Beauty",
                address: "12 Whitefield, Bangalore",
                services: ['Makeup', 'Bridal Makeup', 'Facial', 'Waxing', 'Threading'],
                staff: ['Neha', 'Simran', 'Pooja', 'Ritu'],
                qualities: ['Flawless', 'Beautiful', 'Professional', 'Stunning', 'Perfect'],
                feelings: ['Beautiful', 'Confident', 'Glamorous', 'Special', 'Ready to Shine'],
                galleryEmojis: ['üíÑ', 'üíÖ', 'üëÑ', '‚ú®', 'üíã', 'üåü', 'üëë', 'üíñ'],
                bgGradient: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)'
            }
        };

        // Get business from URL
        const urlParams = new URLSearchParams(window.location.search);
        const businessId = urlParams.get('business') || 'raj-salon';
        const business = businesses[businessId];

        if (!business) {
            document.body.innerHTML = '<div style="text-align:center;padding:100px;"><h1>Business Not Found</h1></div>';
        } else {
            // Load business data
            document.getElementById('businessLogo').textContent = business.logo;
            document.getElementById('businessName').textContent = business.name;
            document.querySelector('.business-tagline').textContent = business.tagline;
            document.getElementById('sidebarLogo').textContent = business.logo;
            document.getElementById('sidebarTitle').textContent = business.name;
            document.title = `${business.name} - Leave a Review`;

            // Set background gradient
            document.querySelector('.bg-overlay').style.background = business.bgGradient;

            // Populate galleries with emoji placeholders
            const galleryLeft = document.getElementById('galleryLeft');
            const galleryRight = document.getElementById('galleryRight');
            const galleryTeam = document.getElementById('galleryTeam');

            business.galleryEmojis.slice(0, 4).forEach(emoji => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `<div class="gallery-placeholder">${emoji}</div>`;
                galleryLeft.appendChild(item);
            });

            business.galleryEmojis.slice(4, 8).forEach(emoji => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `<div class="gallery-placeholder">${emoji}</div>`;
                galleryRight.appendChild(item);
            });

            business.staff.forEach((_, i) => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `<div class="gallery-placeholder">üë§</div>`;
                galleryTeam.appendChild(item);
            });

            // Populate services
            const serviceSelect = document.getElementById('serviceSelect');
            business.services.forEach(service => {
                const option = document.createElement('option');
                option.value = service.toLowerCase().replace(/\s+/g, '-');
                option.textContent = service;
                serviceSelect.appendChild(option);
            });

            // Populate staff
            const staffSelect = document.getElementById('staffSelect');
            business.staff.forEach(staff => {
                const option = document.createElement('option');
                option.value = staff.toLowerCase().replace(/\s+/g, '-');
                option.textContent = staff;
                staffSelect.appendChild(option);
            });

            // Populate quality chips
            const qualityChips = document.getElementById('qualityChips');
            business.qualities.forEach(quality => {
                const chip = document.createElement('div');
                chip.className = 'chip';
                chip.textContent = quality;
                chip.onclick = () => chip.classList.toggle('selected');
                qualityChips.appendChild(chip);
            });

            // Populate feeling chips
            const feelingChips = document.getElementById('feelingChips');
            business.feelings.forEach(feeling => {
                const chip = document.createElement('div');
                chip.className = 'chip';
                chip.textContent = feeling;
                chip.onclick = () => chip.classList.toggle('selected');
                feelingChips.appendChild(chip);
            });
        }

        // Star rating functionality
        let selectedRating = 0;
        const stars = document.querySelectorAll('.star');
        const ratingText = document.getElementById('ratingText');

        stars.forEach(star => {
            star.addEventListener('click', function () {
                selectedRating = parseInt(this.getAttribute('data-rating'));
                updateStars(selectedRating);
                updateRatingText(selectedRating);
            });

            star.addEventListener('mouseenter', function () {
                const rating = parseInt(this.getAttribute('data-rating'));
                updateStars(rating);
            });
        });

        document.getElementById('starRating').addEventListener('mouseleave', function () {
            updateStars(selectedRating);
        });

        function updateStars(rating) {
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.textContent = '‚òÖ';
                    star.classList.remove('inactive');
                    star.classList.add('active');
                } else {
                    star.textContent = '‚òÜ';
                    star.classList.remove('active');
                    star.classList.add('inactive');
                }
            });
        }

        function updateRatingText(rating) {
            const texts = ['', 'Poor', 'Fair', 'Good', 'Very Good', 'Excellent'];
            const classes = ['', 'rating-poor', 'rating-poor', 'rating-neutral', 'rating-good', 'rating-excellent'];
            ratingText.textContent = texts[rating];
            ratingText.className = 'rating-text ' + classes[rating];
        }

        // Form submission
        document.getElementById('reviewForm').addEventListener('submit', function (e) {
            e.preventDefault();

            if (selectedRating === 0) {
                alert('‚≠ê Please select a star rating');
                return;
            }

            const service = document.getElementById('serviceSelect').value;
            const staff = document.getElementById('staffSelect').value;

            if (!service || !staff) {
                alert('üìã Please select both service and staff member');
                return;
            }

            const qualities = Array.from(document.querySelectorAll('#qualityChips .chip.selected')).map(c => c.textContent);
            const feelings = Array.from(document.querySelectorAll('#feelingChips .chip.selected')).map(c => c.textContent);
            const additional = document.getElementById('additionalComments').value;

            // Negative review filtering
            if (selectedRating < 3) {
                sessionStorage.setItem('privateFeedback', JSON.stringify({
                    businessId, businessName: business.name, rating: selectedRating,
                    service, staff, qualities, feelings, additional
                }));
                window.location.href = 'private-feedback.html';
                return;
            }

            // Positive review
            sessionStorage.setItem('reviewData', JSON.stringify({
                businessId, businessName: business.name, rating: selectedRating,
                service, staff, qualities, feelings, additional
            }));
            window.location.href = 'review-generated.html';
        });
    </script>
</body>

</html>